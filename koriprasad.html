<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mubarak Chicken Center - Bill Generator</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
</head>
<body>

    <header>
        <h1 id="headerTitle">Mubarak Chicken Center - Bill Generator</h1>
    </header>

    <main>
        <form id="billForm">
            <label for="chickenWeight" class="language-english">Chicken Weight (in kg):</label>
            <label for="chickenWeight" class="language-telugu" style="display:none;">చికెన్ బరిగి (కిలోలలో):</label>
            <input type="number" id="chickenWeight" required>

            <label for="pricePerKg" class="language-english">Price per kg of Chicken:</label>
            <label for="pricePerKg" class="language-telugu" style="display:none;">చికెన్ కిలో వారు:</label>
            <input type="number" id="pricePerKg" required>

            <label for="quantity" class="language-english">Quantity (in units):</label>
            <label for="quantity" class="language-telugu" style="display:none;">మొత్తం (యూనిట్లలో):</label>
            <input type="number" id="quantity" required>

            <button type="button" onclick="generateBill()" class="language-english">Generate Bill</button>
            <button type="button" onclick="generateBill()" class="language-telugu" style="display:none;">బిల్‌ను సృష్టించండి</button>
        </form>

        <div id="billResult" style="display:none;">
            <h2 class="language-english">Bill Details</h2>
            <h2 class="language-telugu" style="display:none;">బిల్ వివరాలు</h2>
            <p id="totalAmount" class="language-english">Total Amount: $0</p>
            <p id="totalAmount" class="language-telugu" style="display:none;">మొత్తం: $0</p>

            <label for="previousBalance" class="language-english">Previous Balance:</label>
            <label for="previousBalance" class="language-telugu" style="display:none;">మునుపటి బ్యాలెన్స్:</label>
            <input type="number" id="previousBalance" required>

            <label for="paidAmount" class="language-english">Paid Amount:</label>
            <label for="paidAmount" class="language-telugu" style="display:none;">చెల్లింపు మొత్తం:</label>
            <input type="number" id="paidAmount" required>

            <button type="button" onclick="calculateBalance()" class="language-english">Calculate Balance</button>
            <button type="button" onclick="calculateBalance()" class="language-telugu" style="display:none;">బ్యాలెన్స్ కలిగించండి</button>

            <p id="balanceResult" style="display:none;" class="language-english">Total Balance: $0</p>
            <p id="balanceResult" style="display:none;" class="language-telugu">మొత్తం బ్యాలెన్స్: $0</p>
            <p id="dateTime" class="language-english"></p>
            <p id="dateTime" class="language-telugu" style="display:none;"></p>

            <button type="button" onclick="generateImage()" class="language-english">Generate Image</button>
            <button type="button" onclick="generateImage()" class="language-telugu" style="display:none;">చిత్రాన్ని సృష్టించండి</button>
        </div>
        
        <div id="imageContainer" style="display:none;">
            <h2 class="language-english">Generated Image</h2>
            <h2 class="language-telugu" style="display:none;">సృష్టించిన చిత్రం</h2>
            <img id="generatedImage" alt="Generated Bill Image">
            <a id="downloadLink" download="restaurant_bill.png" class="language-english">Download Image</a>
            <a id="downloadLink" download="restaurant_bill.png" class="language-telugu" style="display:none;">చిత్రాన్ని డౌన్‌లోడ్ చేయండి</a>
        </div>
    </main>

    <footer>
        <p class="language-english">&copy; 2024 Mubarak Chicken Center - Bill Generator. All rights reserved.</p>
        <p class="language-telugu" style="display:none;">&copy; 2024 ముబారక్ చికెన్ సెంటర్ - బిల్ జనరేటర్. అన్ని హక్కులు ప్రకటించబడినవి.</p>
    </footer>

    <script>
        var currentLanguage = 'english';

        function toggleLanguage() {
            var elementsToToggle = document.querySelectorAll('.language-' + currentLanguage);
            elementsToToggle.forEach(element => {
                element.style.display = 'none';
            });

            currentLanguage = (currentLanguage === 'english') ? 'telugu' : 'english';

            var elementsToShow = document.querySelectorAll('.language-' + currentLanguage);
            elementsToShow.forEach(element => {
                element.style.display = 'block';
            });
        }

        function generateBill() {
            var chickenWeight = parseFloat(document.getElementById('chickenWeight').value) || 0;
            var pricePerKg = parseFloat(document.getElementById('pricePerKg').value) || 0;
            var quantity = parseFloat(document.getElementById('quantity').value) || 0;

            var totalAmount = (chickenWeight * pricePerKg) + (quantity * 10);

            document.getElementById('totalAmount').textContent = 'Total Amount: $' + totalAmount.toFixed(2);
            document.getElementById('billResult').style.display = 'block';
        }

        function calculateBalance() {
            var previousBalance = parseFloat(document.getElementById('previousBalance').value) || 0;
            var paidAmount = parseFloat(document.getElementById('paidAmount').value) || 0;

            var totalBalance = previousBalance - paidAmount;

            document.getElementById('balanceResult').textContent = 'Total Balance: $' + totalBalance.toFixed(2);
            document.getElementById('balanceResult').style.display = 'block';

            var dateTime = new Date();
            document.getElementById('dateTime').textContent = 'Date and Time: ' + dateTime.toLocaleString();
        }

        function generateImage() {
            html2canvas(document.getElementById('billResult')).then(canvas => {
                document.getElementById('imageContainer').style.display = 'block';
                document.getElementById('generatedImage').src = canvas.toDataURL();
                document.getElementById('downloadLink').href = canvas.toDataURL();
            });
        }
    </script>

</body>
</html>
